"use strict";class FrontxFramework{constructor(t={}){this.ComponentTypes={delegate:["accordion","navbar","collapse","selector","alert","dropmenu","drawer","form"],auto:["container","badge","tabview"]},this.selectorQuery='[class*="color:"],[class*="bg:"],[class*="border-color:"],[class*="p:"],[class*="m:"],[class*="mx:"],[class*="my:"],[class*="px:"],[class*="py:"],[class*="mt:"],[class*="mb:"],[class*="ml:"],[class*="mr:"],[class*="pt:"],[class*="pb:"],[class*="pl:"],[class*="pr:"],[class*="left:"],[class*="right:"],[class*="top:"],[class*="bottom:"],[class*="gap:"],[class*="gap-row:"],[class*="gap-column:"]',this.loadedComponents=new WeakSet,this.observer=this._setupObserver(),this.mutationObserver=this._setupMutationObserver(),this._observeSelectorElements(),this.startObserving(document.body),this.autoLoadFunctions=t.autoLoad||[],this._init()}_init(){this.ComponentTypes.delegate.forEach((t=>{"function"==typeof Components[t]&&Components[t]()})),document.querySelectorAll("[frontx-component]").forEach((t=>{const e=t.getAttribute("frontx-component");this.ComponentTypes.auto.includes(e)&&this.observeElement(t)})),document.querySelectorAll("img[data-src]").forEach((t=>this.observeElement(t)))}_setupObserver(){return new IntersectionObserver((t=>{t.forEach((t=>{if(t.isIntersecting&&!this.loadedComponents.has(t.target)){const e=t.target;if("IMG"===e.tagName&&e.dataset.src)return Components._loadImage(e),void this.observer.unobserve(e);if(e._frontxCallback&&"function"==typeof e._frontxCallback)return e._frontxCallback(e),this.loadedComponents.add(e),void this.observer.unobserve(e);this._handleVisibleComponent(t.target),this.observer.unobserve(t.target)}}))}),{rootMargin:"50px 0px",threshold:.1})}_setupMutationObserver(){return new MutationObserver((t=>{t.forEach((t=>{t.addedNodes.forEach((t=>{if(1===t.nodeType&&!this.loadedComponents.has(t)){if(t.hasAttribute("frontx-component")){const e=t.getAttribute("frontx-component");this.ComponentTypes.auto.includes(e)&&this.observeElement(t)}"IMG"===t.tagName&&t.dataset.src&&this.observeElement(t),t.matches?.(this.selectorQuery)&&(t._frontxCallback=Components.selector,this.observeElement(t)),t.querySelectorAll?.("[frontx-component]").forEach((t=>{if(!this.loadedComponents.has(t)){const e=t.getAttribute("frontx-component");this.ComponentTypes.auto.includes(e)&&this.observeElement(t)}})),t.querySelectorAll?.("img[data-src]").forEach((t=>{this.loadedComponents.has(t)||this.observeElement(t)})),t.querySelectorAll?.(this.selectorQuery).forEach((t=>{this.loadedComponents.has(t)||(t._frontxCallback=Components.selector,this.observeElement(t))}))}}))}))}))}_handleVisibleComponent(t){const e=t.getAttribute("frontx-component");this._initializeComponent(e,t)}_initializeComponent(t,e){void 0!==Components&&"function"==typeof Components[t]&&(Components[t](e),this.loadedComponents.add(e))}observeElement(t){this.loadedComponents.has(t)||this.observer.observe(t)}startObserving(t){t&&this.mutationObserver.observe(t,{childList:!0,subtree:!0})}_observeSelectorElements(){document.querySelectorAll(this.selectorQuery).forEach((t=>{this.loadedComponents.has(t)||(t._frontxCallback=Components.selector,this.observer.observe(t))}))}carousel(t,e){const s=new Carousel(t,e);return s.build(),s}modal(t,e){const s=new Modal(t,e);return s.build(),s}toastMessage(t){const e=new Toast(t);return e.init(),e}tooltip(t,e){return new Tooltip(t,e)}alert(t,e){const s=new Alert(t,e);return s.build(),s}formSelect(t,e){return new Select(t,e)}}class Components{static hide(t){t.style.display="none"}static show(t){t.style.display="block"}static slideUp(t,e=300){t&&(t.style.transition=`height ${e}ms ease-out, padding ${e}ms ease-out, margin ${e}ms ease-out`,t.style.height=t.offsetHeight+"px",t.style.overflow="hidden",t.style.display="block",requestAnimationFrame((()=>{t.style.height="0",t.style.padding="0",t.style.margin="0"})),setTimeout((()=>{t.style.display="none",t.style.removeProperty("height"),t.style.removeProperty("padding"),t.style.removeProperty("margin"),t.style.removeProperty("overflow"),t.style.removeProperty("transition")}),e))}static slideDown(t,e=300){t&&(t.style.display="block",t.style.height="0",t.style.padding="0",t.style.margin="0",t.style.overflow="hidden",t.style.transition=`height ${e}ms ease-out, padding ${e}ms ease-out, margin ${e}ms ease-out`,t.offsetHeight,requestAnimationFrame((()=>{t.style.height=t.scrollHeight+"px",t.style.padding="",t.style.margin=""})),setTimeout((()=>{t.style.removeProperty("height"),t.style.removeProperty("padding"),t.style.removeProperty("margin"),t.style.removeProperty("overflow"),t.style.removeProperty("transition")}),e))}static toggleSlide(t,e=400){return"none"===window.getComputedStyle(t).display?this.slideDown(t,e):this.slideUp(t,e)}static navbar(){const t="target-collapse",e=".navbar-collapse",s="opened",i=".menu-toggler";document.body.addEventListener("click",(o=>{const n=o.target.closest('[frontx-component="navbar"]');if(!n)return;o.preventDefault();const l=n.getAttribute(t);if(!l)return;const a=document.querySelector(l);if(!a)return;const r=n.classList.contains(s);document.querySelectorAll(e).forEach((t=>{t!==a&&Components.slideUp(t)})),document.querySelectorAll(i).forEach((t=>{t!==n&&t.classList.remove(s)})),r?(n.classList.remove(s),Components.slideUp(a)):(n.classList.add(s),Components.slideDown(a))}))}static _loadImage(t){if(t.dataset.src){const e=t.dataset.src;t.src=e,t.onload=()=>t.classList.add("loaded"),t.onerror=()=>t.src="data:image/svg+xml,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%2224%22%20height%3D%2224%22%20viewBox%3D%220%200%2024%2024%22%3E%3Cg%20fill%3D%22none%22%20stroke%3D%22currentColor%22%20stroke-linecap%3D%22round%22%20stroke-linejoin%3D%22round%22%20stroke-width%3D%221.5%22%20color%3D%22currentColor%22%3E%3Cpath%20d%3D%22M4.463%204.5c-.318.128-.6.289-.856.49q-.301.24-.554.523C2%206.693%202%208.463%202%2012s0%205.306%201.053%206.487q.253.284.554.522C4.862%2020%206.741%2020%2010.5%2020h3c2.992%200%204.757%200%206-.5M8%204.016C8.728%204%209.554%204%2010.5%204h3c3.759%200%205.638%200%206.892.99q.302.24.555.523C22%206.693%2022%208.463%2022%2012c0%202.313%200%203.87-.294%205m-3.196-5h-.01m-13%200h-.009%22/%3E%3Cpath%20d%3D%22M13.744%2013.742a2.5%202.5%200%201%201-3.535-3.535M2%202l20%2020%22/%3E%3C/g%3E%3C/svg%3E"}}static alert(){document.querySelectorAll('.alert[data-persistent="true"]').forEach((t=>{const e=t.getAttribute("alert-id");e&&localStorage.getItem(`dismissed-${e}`)&&Components.hide(t)})),document.addEventListener("click",(function(t){const e=t.target.closest(".alert-dismiss-button");if(!e)return;let s=e.parentElement;if("true"==s.getAttribute("data-persistent")){const t=s.getAttribute("alert-id");t&&localStorage.setItem(`dismissed-${t}`,"true")}let i=s.getAttribute("dismiss-mode");i&&"slide"===i?(s.style.transition="max-height 0.5s ease, margin 0.5s ease, padding 0.5s ease",s.style.overflow="hidden",s.style.maxHeight="0",s.style.marginTop="0",s.style.marginBottom="0",s.style.paddingTop="0",s.style.paddingBottom="0",setTimeout((()=>{s.remove()}),500)):(s.style.transition="opacity 0.5s ease",s.style.opacity="0",setTimeout((()=>{s.remove()}),500))}))}static collapse(){const t='[frontx-component="collapse"]',e="target-collapse",s="opened";document.addEventListener("click",(function(i){const o=i.target.closest(t);if(!o)return;i.preventDefault();const n=o.getAttribute(e);if(!n)throw new Error("target-collapse attribute can't be undefined");const l=document.querySelectorAll(n);if(!l.length)throw new Error(`No collapse element found for selector "${n}"`);l.forEach((t=>{Components.toggleSlide(t)})),document.querySelectorAll(t).forEach((t=>{if(t!==o){t.classList.remove(s);const i=t.getAttribute(e),o=document.querySelector(i);o&&o!==l&&Components.slideUp(o)}}))}))}static container(t){const e=".swiper-container",s=".row",i=(t.querySelector(s)?t:t.querySelector(e))?.querySelector(s);if(!i)throw new Error("The swiper container must have grid");let o=!1,n=0,l=0;const a=t=>{o=!1};i.addEventListener("pointerdown",(t=>{o=!0,n=t.clientX,l=i.scrollLeft})),i.addEventListener("pointermove",(t=>{if(!o)return;let e=t.clientX-n;e*=1.2,i.scrollLeft=l-e})),i.addEventListener("pointerup",a),i.addEventListener("pointerleave",a),i.addEventListener("pointercancel",a)}static dropmenu(){const t="opened",e="show-with-hover",s=".dropdown",i=".dropdown-menu";document.addEventListener("click",(e=>{const o=e.target.closest(s),n=e.target.closest(i);document.querySelectorAll(s).forEach((s=>{s!==o||n?s.contains(e.target)||s.classList.remove(t):s.classList.toggle(t)}))})),window.matchMedia("(hover: hover) and (pointer: fine)").matches&&(document.addEventListener("pointerover",(i=>{const o=i.target.closest(s);o?.classList.contains(e)&&o.classList.add(t)})),document.addEventListener("pointerout",(i=>{const o=i.target.closest(s);o?.classList.contains(e)&&setTimeout((()=>{o.matches(":hover")||o.querySelector(":hover")||o.classList.remove(t)}),150)})))}static drawer(){const t=".drawer",e=".drawer-dismiss-button",s="target-drawer",i="opening",o="opened",n=".drawer-content";document.addEventListener("click",(t=>{const e=t.target.closest('[frontx-component="drawer"]');if(e){t.preventDefault();const n=e.getAttribute(s);if(!n)throw new Error("target-drawer attribute is undefined");const l=document.querySelectorAll(n);if(1!==l.length)throw new Error("Drawer target must be unique and present");const a=l[0];a.classList.add(i),setTimeout((()=>{a.classList.add(o)}),100)}})),document.addEventListener("click",(s=>{const n=s.target.closest(e);if(n){s.preventDefault();const e=n.closest(t);e&&(e.classList.remove(o),setTimeout((()=>{e.classList.contains(o)||e.classList.remove(i)}),200))}})),document.addEventListener("click",(e=>{document.querySelectorAll(`${t}.${o}`).forEach((t=>{const s=t.querySelector(n);!s||s.contains(e.target)||e.target.closest('[frontx-component="drawer"]')||(t.classList.remove(o),setTimeout((()=>{t.classList.contains(o)||t.classList.remove(i)}),200))}))}))}static tabview(t){const e="target-tab",s=".tab-content",i="active",o="opened";if(!t)return;let n=Array.from(t.children),l=t.querySelector("."+i),a=t.classList.contains("vertical"),r=document.createElement("div");r.className="underline",r.style.position="absolute",r.style.transition="all 0.3s ease";let c=t.getAttribute("tabitem-underline-color");function d(){let e=t.querySelector("."+i);if(e){let s=e.getBoundingClientRect(),i=t.getBoundingClientRect();requestAnimationFrame((()=>{a?(r.style.top=s.top-i.top+"px",r.style.height=s.height+"px",r.style.left="0px",r.style.width="4px"):(r.style.left=s.left-i.left+"px",r.style.width=s.width+"px",r.style.top="auto",r.style.height="4px")}))}}if(c&&(r.style.backgroundColor=c),t.appendChild(r),d(),l){let t=l.getAttribute(e),s=document.querySelector(t);s&&s.classList.add(i,o)}n.forEach((t=>{t.addEventListener("click",(function(l){l.preventDefault();let a=t.getAttribute(e);n.forEach((e=>{e!==t&&e.classList.remove(i)})),document.querySelectorAll(s).forEach((t=>{t!==document.querySelector(a)&&t.classList.remove(o)})),t.classList.add(i);let r=document.querySelector(a);r&&r.classList.add(o),d()}))})),window.addEventListener("resize",d)}static badge(t){const e=t.getAttribute("data-count");if(!e)return;const s=parseInt(e,10);isNaN(s)||(s<=9?(t.textContent=s,t.setAttribute("aria-label",`${s}`)):t.textContent="9+")}static form(){const t={form:"form",validateClass:"validated",isValidate:"validate",groupFile:".group-file",inputFile:".form-input-file",uObject:".uploading-object",floatingGroup:".floating-label",floatingSelect:".form-select",blockedExtensions:new Set(["exe","bat","cmd","sh","msi","js","ts","jsp","php","py","pl","cgi","dll","jar","vbs"]),defaultMaxFileSize:10485760};document.addEventListener("submit",(e=>{e.target.matches(t.form)&&e.target.classList.contains(t.isValidate)&&(e.target.checkValidity()||(e.preventDefault(),e.stopPropagation()),e.target.classList.replace(t.isValidate,t.validateClass))})),document.addEventListener("change",(e=>{if(!e.target.matches(t.inputFile))return;const s=e.target.files,i=e.target.closest(t.groupFile);if(!i)return;const o=i.querySelector(t.uObject);if(!o)return;const n=parseInt(i.getAttribute("max-file-size"))||t.defaultMaxFileSize,l=Array.from(s).filter((e=>{const s=e.name.match(/\.([a-z0-9]+)$/i),i=s?s[1].toLowerCase():"";return t.blockedExtensions.has(i)?(alert(`Blocked file type: ${e.name}`),!1):!(e.size>n)||(alert(`File too large: ${e.name}`),!1)}));o.textContent=1===l.length?"Selected: "+l[0].name.replace(/[<>\/\\|:*?"']/g,"_"):`${l.length} Items Selected`})),document.querySelectorAll(".group.floating-label select").forEach((t=>{const e=document.createElement("label");e.className="select-label floating-label-hidden",e.textContent=t.options[0]?.textContent||"Select an option",t.insertAdjacentElement("afterend",e);const s=()=>{e.classList.toggle("floating-label-visible",""!==t.value),e.classList.toggle("floating-label-hidden",""===t.value)};t.addEventListener("change",s),s()}))}static selector(){const t={xs:window.matchMedia("(max-width: 567px)"),sm:window.matchMedia("(min-width: 568px) and (max-width: 767px)"),md:window.matchMedia("(min-width: 768px) and (max-width: 991px)"),lg:window.matchMedia("(min-width: 992px) and (max-width: 1199px)"),xl:window.matchMedia("(min-width: 1200px)")};function e(t=null){const e=document.querySelectorAll('[class*="color:"], [class*="bg:"], [class*="border-color:"], [class*="p:"], [class*="m:"], [class*="mx:"], [class*="my:"], [class*="px:"], [class*="py:"], [class*="mt:"], div[class*="mb:"], [class*="ml:"], [class*="mr:"], [class*="pt:"], [class*="pb:"], [class*="pl:"], [class*="pr:"], [class*="left:"], [class*="right:"], [class*="top:"], [class*="bottom:"], [class*="gap:"], [class*="gap-row:"], [class*="gap-column:"]');0!==e.length&&e.forEach((e=>{const s=e.className.split(" "),i={},o={color:"color",bg:"background-color","border-color":"border-color",p:"padding",m:"margin",mx:"margin-left margin-right",my:"margin-top margin-bottom",px:"padding-left padding-right",py:"padding-top padding-bottom",mt:"margin-top",mb:"margin-bottom",ml:"margin-left",mr:"margin-right",pt:"padding-top",pb:"padding-bottom",pl:"padding-left",pr:"padding-right",left:"left",right:"right",top:"top",bottom:"bottom",gap:"gap","gap-row":"row-gap","gap-column":"column-gap"};s.forEach((e=>{const[s,n]=e.split(":");let l,a;const r=s.split("-");if(r.length>2||2===r.length&&!["xs","sm","md","lg","xl"].includes(r[1])?(a=r.pop(),l=r.join("-")):2===r.length&&["xs","sm","md","lg","xl"].includes(r[1])?(l=r[0],a=r[1]):(l=s,a=null),(!a||a===t)&&l in o){const t=o[l];i[t]="color"===l||"bg"===l||"border-color"===l?n.includes("#")?n:`#${n}`:n}})),Object.keys(i).forEach((t=>{t.split(" ").forEach((s=>{e.style[s]=i[t]}))}))}))}function s(){t.xs.matches?e("xs"):t.sm.matches?e("sm"):t.md.matches?e("md"):t.lg.matches?e("lg"):t.xl.matches&&e("xl")}for(const e of Object.values(t))e.addEventListener("change",s);s()}static accordion(){document.querySelectorAll('[frontx-component="accordion"]').forEach((t=>{const e="false"!==t.getAttribute("data-single-open"),s="true"===t.getAttribute("data-open-stay"),i="opened",o=".accordion-toggler",n=".accordion-content";function l(t){t.classList.remove(i);const e=t.parentElement.querySelector(n);e&&Components.slideUp(e,300)}if(t.addEventListener("click",(s=>{const a=s.target.closest(o);if(!a||!t.contains(a))return;s.preventDefault();a.classList.contains(i)?l(a):(!function(t){t.classList.add(i);const e=t.parentElement.querySelector(n);e&&Components.slideDown(e,300)}(a),e&&t.querySelectorAll(o).forEach((t=>{t!==a&&t.classList.contains(i)&&l(t)})))})),s){const e=t.querySelector(o);if(e){e.classList.add(i);const t=e.parentElement.querySelector(n);Components.slideDown(t,300)}}}))}}class Tooltip{constructor(t,e){if(this.options=e||{},this._selector=t,this.defaults={text:"Hi, I am a tooltip message",placement:"auto",arrow:!0,type:"default",dispose:!1},this.setTooltip=Object.assign({},this.defaults,this.options),this.selector={tooltip:".tooltip"},this.class={placementTop:"placement-top",placementBottom:"placement-bottom",placementLeft:"placement-left",placementRight:"placement-right",arrow:"with-arrow",arrowEnd:"with-arrow-end",activeTooltip:"opened",typeSuccess:"view-success",typeDanger:"view-danger",typeWarning:"view-warning",typeInfo:"view-info"},this.tooltipElement=document.querySelector(this._selector),!this.tooltipElement)return;let s=this.tooltipElement.getAttribute("listener-event");const i="ontouchstart"in window||navigator.maxTouchPoints>0;this.SHOW_EVENT="click"===s?"click":i?"touchstart":"mouseenter",this.HIDE_EVENT="click"===s?"click":i?"touchend":"mouseleave",this._shown=!1,this._isDisposed=!1,this.handleShow=this.create.bind(this),this.handleHide=this.remove.bind(this),this.tooltipElement.addEventListener(this.SHOW_EVENT,this.handleShow),this.tooltipElement.addEventListener(this.HIDE_EVENT,this.handleHide)}create(){if(this._isDisposed||!this.tooltipElement)return;if(!this.tooltipElement.querySelector(this.selector.tooltip)){const t=document.createElement("div");t.className="tooltip",t.textContent=String(this.setTooltip.text).trim(),this.tooltipElement.appendChild(t)}this.tooltipElement.querySelector(this.selector.tooltip).classList.add(this.class.activeTooltip),"relative"!==getComputedStyle(this.tooltipElement).position&&(this.tooltipElement.style.position="relative"),this.setType(),this.setup(),this._shown=!0}setType(){const t={success:this.class.typeSuccess,danger:this.class.typeDanger,warning:this.class.typeWarning,info:this.class.typeInfo}[this.setTooltip?.type]||"",e=this.tooltipElement.querySelector(this.selector.tooltip);t&&e.classList.add(t)}setup(){const t=this.tooltipElement.getBoundingClientRect(),e=window.innerWidth,s=window.innerHeight,i=this.tooltipElement.querySelector(this.selector.tooltip),o=i.offsetWidth,n=this.tooltipElement.offsetWidth/6.5,l=this.tooltipElement.offsetWidth,a=i.offsetHeight,r=this.tooltipElement.offsetHeight/6.5,c=this.tooltipElement.offsetHeight,d=t.left+l,h=t.top+c,m=Math.abs(e-d);let p=m<o?"right":"left";Math.abs(s-h);switch(this.setTooltip.placement){case"top":i.classList.add(this.class.placementTop),this.setTooltip.arrow&&i.classList.add(m<o?this.class.arrowEnd:this.class.arrow),i.style[p]=`${n}px`;break;case"bottom":i.classList.add(this.class.placementBottom),this.setTooltip.arrow&&i.classList.add(m<o?this.class.arrowEnd:this.class.arrow),i.style[p]=`${n}px`;break;case"right":i.classList.add(this.class.placementRight),this.setTooltip.arrow&&i.classList.add(this.class.arrow),i.style.top=`${r}px`;break;case"left":i.classList.add(this.class.placementLeft),this.setTooltip.arrow&&i.classList.add(this.class.arrow),i.style.top=`${r}px`;break;case"auto":if(t.top>a&&t.left<o)i.classList.add(this.class.placementTop);else if(t.left>l&&t.bottom>a)i.classList.add(this.class.placementTop);else{if(t.top<a&&t.left<o){i.classList.add(this.class.placementRight),i.style.top=`${r}px`;break}if(m<o){i.classList.add(this.class.placementLeft),i.style.top=`${r}px`;break}}this.setTooltip.arrow&&i.classList.add(m<o?this.class.arrowEnd:this.class.arrow),i.style[p]=`${n}px`;break;default:break}}remove(){if(this._isDisposed)return;const t=this.tooltipElement.querySelector(this.selector.tooltip);t&&t.remove(),this.setTooltip.dispose&&this._shown&&this.dispose()}dispose(){this._isDisposed||(this.tooltipElement.removeEventListener(this.SHOW_EVENT,this.handleShow),this.tooltipElement.removeEventListener(this.HIDE_EVENT,this.handleHide),this._isDisposed=!0)}}class Toast{static instances=new Map;static toastCounter=0;constructor(t={}){this.setToast=Object.assign({text:"Hi, I am a toast message",type:"default",align:"bottom",removeAfter:4e3,removeOthers:!1,enableTypeIcon:!1,dispose:!1},t),this.toastId="toast-"+ ++Toast.toastCounter,Toast.instances.set(this.toastId,this),this.selector={parent:"body",toast:"toast",renderedClass:"generated-by-frontxjs"},this.toastTimeout=Math.min(Math.max(parseInt(this.setToast.removeAfter),1e3),1e4),this._timeoutId=null,this.toastEl=null}init(){const t=document.querySelector(this.selector.parent);t&&(this.setToast.removeOthers&&this.removeExistingToasts(),!this.setToast.removeOthers&&t.querySelector(`.${this.selector.renderedClass}`)||(this.build(t),this.setup(),this.autoClose()))}build(t){const e=`<div class="${this.selector.toast} ${this.selector.renderedClass}" data-toast-id="${this.toastId}">\n        ${this.setToast.text}\n      </div>`;t.insertAdjacentHTML("beforeend",e),this.toastEl=t.querySelector(`[data-toast-id="${this.toastId}"]`)}setup(){if(!this.toastEl)return;const t="top"===this.setToast.align?"align-top":"align-bottom";this.toastEl.classList.add(t);const e={success:"view-success",danger:"view-danger",warning:"view-warning",info:"view-info"}[this.setToast.type];e&&(this.toastEl.classList.add(e),this.setToast.enableTypeIcon&&this.toastEl.classList.add("with-icon"))}autoClose(){this._timeoutId=setTimeout((()=>{const t=document.querySelector(`[data-toast-id="${this.toastId}"]`);t&&(t.remove(),this.setToast.dispose&&this.dispose())}),this.toastTimeout)}removeExistingToasts(){const t=document.querySelector(this.selector.parent);if(!t)return;t.querySelectorAll(`.${this.selector.renderedClass}`).forEach((t=>{const e=t.getAttribute("data-toast-id");if(e){const s=Toast.instances.get(e);t.remove(),s?.setToast.dispose&&s.dispose()}}))}dispose(){clearTimeout(this._timeoutId),this.toastEl=null,this._timeoutId=null,Toast.instances.delete(this.toastId)}}class Alert{constructor(t,e){this.selector={dismissListener:".alert-dismiss-button"},this.class={success:"view-success",danger:"view-danger",warning:"view-warning",info:"view-info",icon:"with-icon",nonAnimation:"animationless"},this.defaults={text:"This is an alert message",type:"default",showIcon:!1,dismissible:!0,addBefore:!0,animation:!0,dismissMode:"fade",dispose:!1},this.selectorElement=document.querySelector(t),this.variable=e||{},this.options=Object.assign({},this.defaults,this.variable),this._clickHandler=this._handleDismissClick.bind(this)}create(){const t=this.constructAlertConfig();this.options.addBefore?this.selectorElement.insertAdjacentHTML("beforebegin",t):this.selectorElement.insertAdjacentHTML("afterend",t)}dismiss(){this.options.dismissible&&document.addEventListener("click",this._clickHandler)}_handleDismissClick(t){const e=t.target.closest(".alert-dismiss-button");if(!e)return;const s=e.closest(".alert");if(!s)return;const i=()=>{s.remove(),this.options.dispose&&this.dispose()};"slide"===this.options.dismissMode?(s.style.transition="max-height 0.5s ease, margin 0.5s ease, padding 0.5s ease",s.style.overflow="hidden",s.style.maxHeight="0",s.style.marginTop="0",s.style.marginBottom="0",s.style.paddingTop="0",s.style.paddingBottom="0",setTimeout(i,300)):(s.style.transition="opacity 0.5s ease",s.style.opacity="0",setTimeout(i,300))}constructAlertConfig(){const t=`${this.class[this.options.type]||"default"} ${this.options.showIcon?this.class.icon:""} ${!1===this.options.animation?this.class.nonAnimation:""}`.trim();return this.options.dismissible?`\n        <div class="alert ${t}" dismiss-mode="${this.options.dismissMode}">\n          <a class="button alert-dismiss-button"></a>\n          ${this.options.text}\n        </div>`:`\n        <div class="alert ${t}">\n          ${this.options.text}\n        </div>`}build(){this.selectorElement&&(this.create(),this.dismiss())}dispose(){document.removeEventListener("click",this._clickHandler),this.selectorElement=null,this.options=null,this.variable=null,this._clickHandler=null}}class Modal{constructor(t,e){if(this.setModal={},this.options=e||{},this.supportedModalTypes=["default","confirm","custom"],!this.supportedModalTypes.includes(t))throw new Error(`Invalid modal type: "${t}". Supported types are: ${this.supportedModalTypes.join(", ")}.`);this.type=t,this.defaults="default"===t?{title:void 0,text:"This is a Modal message",align:"top",responsive:!0,dismissText:"OK",dispose:!1,icon:{display:!1,type:"none"}}:"confirm"===t?{title:void 0,text:"Are you sure?",confirmUrl:"#",align:"top",responsive:!0,dispose:!1,buttons:{cancelText:"No",confirmText:"Yes"}}:{id:"#"},this.setModal=Object.assign({},this.defaults,this.options),this.selector={parent:"body",modal:".modal.generated-by-frontxjs",modalContent:".modal-dialog",modalHeader:".dialog-header",modalBody:".dialog-body",modalButtons:".dialog-buttons",dismissButton:".modal-dismiss-button",confirmButton:".modal-confirm-button",modalRendered:".modal-rendered",modalIcon:".dialog-icon"},this.class={alignTop:"align-top",alignCenter:"align-center",alignBottom:"align-bottom",shown:"opened",showing:"opening",responsive:"view-responsive"},this.modal=`${this.selector.modal}`,this.modalButtons=this.selector.modalButtons,this.dismissBtn=this.selector.dismissButton,this.confirmBtn=this.selector.confirmButton,this.html='\n      <div class="modal generated-by-frontxjs">\n        <div class="modal-dialog">\n          <div class="dialog-header"></div>\n          <div class="dialog-body"></div>\n        </div>\n      </div>',this.iconHtml='<div class="dialog-icon"></div>',this.buttonHtml='<div class="dialog-buttons"></div>',this.dismissBtnHtml='<a class="button modal-dismiss-button" aria-label="Modal Dismiss Button"></a>',this._boundDismissHandler=this._dismissHandler.bind(this)}getElm(t,e=document){return e.querySelector(t)}create(){this.getElm(this.modal)||document.querySelector(this.selector.parent).insertAdjacentHTML("beforeend",this.html)}addContent(t,e){this.getElm(t).textContent=e}addTitle(){this.setModal.title&&this.addContent(`${this.modal} ${this.selector.modalHeader}`,this.setModal.title)}addBody(){this.addContent(`${this.modal} ${this.selector.modalBody}`,this.setModal.text)}addDismissBtn(){const t=this.getElm(this.modal),e=this.getElm(this.selector.modalContent,t);e.insertAdjacentHTML("beforeend",this.buttonHtml);this.getElm(this.selector.modalButtons,e).insertAdjacentHTML("beforeend",this.dismissBtnHtml);this.getElm(this.selector.dismissButton,t).textContent=this.setModal.dismissText}addConfirmBtns(){const t=`<a class="button modal-confirm-button" href="${this.setModal.confirmUrl}">${this.setModal.buttons.confirmText}</a>`,e=`<a class="button modal-dismiss-button">${this.setModal.buttons.cancelText}</a>`,s=this.getElm(this.modal),i=this.getElm(this.selector.modalContent,s);i.insertAdjacentHTML("beforeend",this.buttonHtml);const o=this.getElm(this.selector.modalButtons,i);o.insertAdjacentHTML("afterbegin",e),o.insertAdjacentHTML("beforeend",t)}setAlign(){this.getElm(this.modal).classList.add(this.class[`align${this.setModal.align.charAt(0).toUpperCase()+this.setModal.align.slice(1)}`])}responsive(){this.setModal.responsive&&this.getElm(this.modal).classList.add(this.class.responsive)}setIcon(){const t=this.getElm(this.modal);if(this.getElm(this.selector.modalContent,t).insertAdjacentHTML("afterbegin",this.iconHtml),this.setModal.icon.display&&"none"!==this.setModal.icon.type){const e={success:'<span class="icon-success"></span>',danger:'<span class="icon-danger"></span>',info:'<span class="icon-info"></span>',warning:'<span class="icon-warning"></span>'};this.getElm(this.selector.modalIcon,t).insertAdjacentHTML("afterbegin",e[this.setModal.icon.type]||"")}}_dismissHandler(t){t.preventDefault();const e=this.getElm(this.modal);e.classList.remove(this.class.shown),setTimeout((()=>{e.classList.remove(this.class.showing),e.remove(),!0===this.setModal.dispose&&this.dispose()}),200)}run(){const t=this.getElm(this.modal);t.classList.add(this.class.showing),setTimeout((()=>{t.classList.add(this.class.shown)}),100);const e=this.getElm(this.dismissBtn,t);e&&e.addEventListener("click",this._boundDismissHandler)}custom(){const t=this.getElm(this.setModal.id);t.classList.add(this.class.showing),setTimeout((()=>{t.classList.add(this.class.shown)}),100);const e=this.getElm(this.dismissBtn,t);e&&e.addEventListener("click",(e=>{e.preventDefault(),t.classList.remove(this.class.shown),setTimeout((()=>{t.classList.remove(this.class.showing)}),200)}))}dispose(){const t=this.getElm(this.modal),e=this.getElm(this.dismissBtn);e&&this._boundDismissHandler&&e.removeEventListener("click",this._boundDismissHandler),t&&t.parentNode&&t.parentNode.removeChild(t),this.setModal=null,this.options=null,this._boundDismissHandler=null}build(){"default"===this.type?(this.create(),this.setAlign(),this.responsive(),this.addTitle(),this.addBody(),this.addDismissBtn(),this.setIcon(),this.run()):"confirm"===this.type?(this.create(),this.setAlign(),this.responsive(),this.addTitle(),this.addBody(),this.addConfirmBtns(),this.run()):"custom"===this.type&&this.custom()}}class Carousel{constructor(t,e){this.defaults={mode:"default",autoplay:!0,interval:4e3,controls:!0,pager:!0,thumbnails:{display:!1,clickable:!1},swipe:!0,infiniteLoop:!0},this.swipeConfig={touchPosX:null,touchPosY:null,xDiff:null,yDiff:null,timeStart:null,timeDiff:null,swipeThreshold:40,swipeTimeout:1e3},this.selector={inner:".carousel-items",innerItem:".item",pager:".pager",thumbnails:".thumbnails",nextButton:".carousel-next-button",prevButton:".carousel-prev-button",thumbnailIndex:".thumbnail-image.active",thumbnailItems:".thumbnail-image"},this.class={active:"active",fadeMode:"with-fade-effect"},this.template={nextButton:'<a class="button carousel-next-button next-icon" aria-label="Carousel Next Button"></a>',prevButton:'<a class="button carousel-prev-button prev-icon" aria-label="Carousel Prev Button"></a>',pager:'<ul class="pager"></ul>',pagerItems:'<li class="item"></li>',thumbnails:'<ul class="thumbnails"></ul>'},this.slideIndex=1,this._interval=void 0,this.isDragging=!1,this._callPrev=this.callPrev.bind(this),this._callNext=this.callNext.bind(this),this._onSwipeStart=this.onSwipeStart.bind(this),this._onSwipeMove=this.onSwipeMove.bind(this),this._onSwipeEnd=this.onSwipeEnd.bind(this),this._adjustThumbnailPadding=this.adjustThumbnailPadding.bind(this),this.carousel=document.querySelector(t),this.carouselInner=this.carousel.querySelector(this.selector.inner),this.carouselItems=this.carouselInner.children,this.pager=this.carousel.querySelector(this.selector.pager),this.thumbnailItems=this.carousel.querySelector(this.selector.thumbnailItems),this.variable=e||{},this.options=Object.assign({},this.defaults,this.variable)}nextItem(){this.slideIndex+=1,this.slider()}prevItem(){this.slideIndex-=1,this.slider()}callNext(){!0===this.options.autoplay&&this.disableAutoplay(),this.nextItem(),!0===this.options.autoplay&&this.enableAutoplay()}callPrev(){!0===this.options.autoplay&&this.disableAutoplay(),this.prevItem(),!0===this.options.autoplay&&this.enableAutoplay()}addPager(){this.carouselInner.insertAdjacentHTML("afterend",this.template.pager);for(let t=0;t<this.carouselItems.length;t++)this.carousel.querySelector(this.selector.pager).insertAdjacentHTML("beforeend",this.template.pagerItems)}addThumbnails(){this.carouselInner.insertAdjacentHTML("afterend",this.template.thumbnails);const t=this.carousel.querySelector(this.selector.thumbnails);for(let e=0;e<this.carouselItems.length;e++){const s=this.carouselItems[e].querySelector("img").src,i=s.split("/").pop().split(".").slice(0,-1).join("."),o=`<li class="item"><img class="thumbnail-image" src="${s}" alt="${i}"></li>`;t.insertAdjacentHTML("beforeend",o)}this.adjustThumbnailPadding(),window.addEventListener("resize",(()=>{this.adjustThumbnailPadding()}))}adjustThumbnailPadding(){const t=this.carouselInner.offsetWidth,e=this.carousel.querySelector(this.selector.thumbnails),s=e.children.length,i=8*(s-1),o=e.children[0].offsetWidth*s+i;if(t>o){const s=Math.abs(t-o)/2;e.style.paddingLeft=s+"px"}}addControls(){this.carousel.insertAdjacentHTML("beforeend",this.template.prevButton),this.carousel.insertAdjacentHTML("beforeend",this.template.nextButton)}setActivePager(t){const e=this.carousel.querySelector(this.selector.pager).children;Array.from(e).forEach((t=>t.classList.remove(this.class.active))),e[t].classList.add(this.class.active)}setActiveThumbnail(t){const e=this.carousel.querySelector(this.selector.thumbnails).children;Array.from(e).forEach((t=>t.classList.remove(this.class.active))),e[t].classList.add(this.class.active),this.adjustThumbnailScroll(t)}adjustThumbnailScroll(t){const e=this.carouselInner.offsetWidth,s=this.carousel.querySelector(this.selector.thumbnails),i=s.children[0].offsetWidth,o=s.children.length;if(i*o+8*(o-1)>e){const i=o-Math.floor(e/58);t>i&&(t=i);const n=50*-t+"px";Array.from(s.children).forEach((t=>{t.style.transform=`translateX(${n})`}))}}disableTransition(){Array.from(this.carouselItems).forEach((t=>{t.style.transitionProperty="none"}))}enableTransition(){Array.from(this.carouselItems).forEach((t=>{t.style.transitionProperty="transform"}))}enableFadeMode(){this.carousel.classList.add(this.class.fadeMode)}disableAutoplay(){clearInterval(this._interval),this._interval=null}jumpTo(t){this.slideIndex=t,this.slider()}config(){if(!0===this.options.controls){this.addControls(),this.carousel.querySelector(this.selector.prevButton).addEventListener("click",(t=>{t.preventDefault(),this._callPrev()})),this.carousel.querySelector(this.selector.nextButton).addEventListener("click",(t=>{t.preventDefault(),this._callNext()}));const t=this.carouselInner.offsetHeight/2.32;this.carousel.querySelector(this.selector.nextButton).style.top=t+"px",this.carousel.querySelector(this.selector.prevButton).style.top=t+"px"}if(!0===this.options.pager&&!1===this.options.thumbnails.display&&this.addPager(),!0===this.options.thumbnails.display&&!1===this.options.pager&&(this.addThumbnails(),!0===this.options.thumbnails.clickable&&(this.clickableThumbnails(),Array.from(this.carousel.querySelector(this.selector.thumbnails).children).forEach((t=>{t.style.cursor="pointer"})))),!0===this.options.pager&&!0===this.options.thumbnails.display)throw new Error("Pagers and Thumbnails can't be true at the same time.");!0===this.options.swipe&&this.enableSwipe(),!0===this.options.autoplay&&this.enableAutoplay()}run(){this.jumpTo(1)}translateX(t){Array.from(this.carouselItems).forEach((e=>{e.style.transform=`translateX(${t})`}))}slider(){if("default"===this.options.mode&&"fade"!==this.options.mode)this.enableTransition();else{if("fade"!==this.options.mode||"default"===this.options.mode){throw new Error("Carousel `mode` should be default or fade");return}this.enableFadeMode()}if(!0===this.options.infiniteLoop)this.slideIndex>this.carouselItems.length&&(this.slideIndex=1,"default"===this.options.mode&&this.disableTransition()),this.slideIndex<1&&(this.slideIndex=this.carouselItems.length,"default"===this.options.mode&&this.disableTransition());else{if(!1!==this.options.infiniteLoop)return;this.slideIndex>this.carouselItems.length&&(this.slideIndex=this.carouselItems.length),this.slideIndex<1&&(this.slideIndex=1)}const t=this.slideIndex-1,e=100*-t+"%";this.translateX(e),"fade"===this.options.mode&&(Array.from(this.carouselItems).forEach((t=>{t.classList.remove(this.class.active)})),this.carouselItems[t].classList.add(this.class.active)),!0===this.options.pager&&this.setActivePager(t),!0===this.options.thumbnails.display&&this.setActiveThumbnail(t)}onSwipeStart(t){t.preventDefault(),window.PointerEvent&&t.target.setPointerCapture(t.pointerId),this.isDragging=!0,this.swipeConfig.touchPosX=this.getPointX(t),this.swipeConfig.touchPosY=this.getPointY(t),this.swipeConfig.timeStart=Date.now(),this.swipeConfig.xDiff=0,this.swipeConfig.yDiff=0}onSwipeMove(t){if(!this.isDragging)return;if(!this.swipeConfig.touchPosX||!this.swipeConfig.touchPosY)return;let e=this.getPointX(t),s=this.getPointY(t);this.swipeConfig.xDiff=this.swipeConfig.touchPosX-e,this.swipeConfig.yDiff=this.swipeConfig.touchPosY-s}onSwipeEnd(t){t.preventDefault(),window.PointerEvent&&t.target.releasePointerCapture(t.pointerId),this.isDragging=!1,this.swipeConfig.timeDiff=Date.now()-this.swipeConfig.timeStart,Math.abs(this.swipeConfig.xDiff)>Math.abs(this.swipeConfig.yDiff)&&Math.abs(this.swipeConfig.xDiff)>this.swipeConfig.swipeThreshold&&Math.abs(this.swipeConfig.timeDiff)>100&&(this.swipeConfig.xDiff>0?this._callNext():this._callPrev()),this.swipeConfig.touchPosX=null,this.swipeConfig.touchPosY=null,this.swipeConfig.timeStart=null}getPointX(t){return t.clientX}getPointY(t){return t.clientY}enableSwipe(){if(!window.PointerEvent)throw new Error("The PointerEvent is not avilable on this device to enable swipe mode on the  Craousel");this.carouselInner.addEventListener("pointerdown",this._onSwipeStart),this.carouselInner.addEventListener("pointermove",this._onSwipeMove),this.carouselInner.addEventListener("pointerup",this._onSwipeEnd),this.carouselInner.addEventListener("pointercancel",this._onSwipeEnd)}enableAutoplay(){this._interval||(this._interval=setInterval((()=>{this.nextItem()}),this.options.interval))}clickableThumbnails(){Array.from(this.carousel.querySelector(this.selector.thumbnails).children).forEach(((t,e)=>{t.addEventListener("click",(()=>{!0===this.options.autoplay&&this.disableAutoplay(),this.jumpTo(e+1),!0===this.options.autoplay&&this.enableAutoplay()}))}))}dispose(){if(this.disableAutoplay(),this.options.controls){const t=this.carousel.querySelector(this.selector.prevButton),e=this.carousel.querySelector(this.selector.nextButton);t&&(t.removeEventListener("click",this._callPrev),t.remove()),e&&(e.removeEventListener("click",this._callNext),e.remove())}const t=this.carousel.querySelector(this.selector.pager);t&&t.remove();const e=this.carousel.querySelector(this.selector.thumbnails);e&&e.remove(),Array.from(this.carouselItems).forEach((t=>{t.style.transform="",t.style.transitionProperty="",t.classList.remove(this.class.active)})),this.carouselInner.removeEventListener("pointerdown",this._startHandler),this.carouselInner.removeEventListener("pointermove",this._moveHandler),this.carouselInner.removeEventListener("pointerup",this._endHandler),this.carouselInner.removeEventListener("pointercancel",this._endHandler),window.removeEventListener("resize",this._adjustThumbnailPadding),this._interval=null}build(){this.config(),this.run()}}class Select{constructor(t,e){this.selectElement=document.getElementById(t),this.data=e.data||[],this.inputName=e.inputName||"",this.defaultValue=e.defaultValue||null,this.multiple=e.multiple||!1,this.selectedOptions=[],this.firstOption=this.selectElement[0]?.innerText||"--SELECT--";const s=this.inputName||"custom-select";this.createHiddenInput(s),this._handleDocumentClick=this._handleDocumentClick.bind(this),this.optionClickListeners=[],this.selectElement&&this.selectElement.hasAttribute("data-dropdown")&&this.init()}createHiddenInput(t){this.selectedInput=document.createElement("input"),this.selectedInput.type="hidden",this.selectedInput.name=t,this.selectElement.parentNode.insertBefore(this.selectedInput,this.selectElement.nextSibling)}init(){if(this.selectElement.style.display="none",this.buildDropdown(),this.defaultValue){(Array.isArray(this.defaultValue)?this.defaultValue.map((t=>this.data.find((e=>e.value===t)))):[this.data.find((t=>t.value===this.defaultValue))]).forEach((t=>{t&&this.selectDefaultValue(t)}))}}buildDropdown(){this.customSelectContainer=document.createElement("div"),this.customSelectContainer.classList.add("custom-select"),this.customSelectContainer.setAttribute("tabindex","0"),this.selectedOption=document.createElement("div"),this.selectedOption.classList.add("selected-option"),this.selectedOption.innerText=this.firstOption,this.customSelectContainer.appendChild(this.selectedOption),this.optionsContainer=document.createElement("div"),this.optionsContainer.classList.add("options-container"),this.customSelectContainer.appendChild(this.optionsContainer),this.data.forEach((t=>{const e=document.createElement("div");if(e.classList.add("select-option"),e.setAttribute("data-value",t.value),t.image){const s=document.createElement("img");s.src=t.image,s.classList.add("option-icon"),e.appendChild(s)}const s=document.createTextNode(t.name);e.appendChild(s),this.optionsContainer.appendChild(e);const i=()=>this.selectDefaultValue(t);e.addEventListener("click",i),this.optionClickListeners.push({element:e,handler:i})})),this.selectedOptionClickListener=()=>this.toggleDropdown(),this.selectedOption.addEventListener("click",this.selectedOptionClickListener),document.addEventListener("click",this._handleDocumentClick),this.selectElement.parentNode.insertBefore(this.customSelectContainer,this.selectElement.nextSibling)}_handleDocumentClick(t){this.customSelectContainer.contains(t.target)||(this.optionsContainer.style.display="none")}toggleDropdown(){const t="block"===this.optionsContainer.style.display;this.optionsContainer.style.display=t?"none":"block"}selectDefaultValue(t){if(this.multiple){if(this.selectedOptions.some((e=>e.value===t.value)))return;this.selectedOptions.push(t);const e=document.createElement("div");t.image?e.innerHTML=`<img src="${t.image}" class="option-icon"> ${t.name}`:e.innerText=t.name,this.selectedOption.appendChild(e),this.updateHiddenInput()}else t.image?this.selectedOption.innerHTML=`<img src="${t.image}" class="option-icon"> ${t.name}`:this.selectedOption.innerText=t.name,this.selectedOptions=[t],this.updateHiddenInput(),this.optionsContainer.style.display="none";this.selectElement.value=t.value,this.selectElement.dispatchEvent(new Event("change"))}updateHiddenInput(){const t=this.selectedOptions.map((t=>t.value)).join(",");this.selectedInput.value=this.multiple?t:this.selectedOptions[0].value}dispose(){document.removeEventListener("click",this._handleDocumentClick),this.optionClickListeners&&this.optionClickListeners.forEach((({element:t,handler:e})=>{t.removeEventListener("click",e)})),this.selectedOptionClickListener&&this.selectedOption&&this.selectedOption.removeEventListener("click",this.selectedOptionClickListener),this.customSelectContainer?.parentNode&&this.customSelectContainer.parentNode.removeChild(this.customSelectContainer),this.selectedInput?.parentNode&&this.selectedInput.parentNode.removeChild(this.selectedInput),this.optionClickListeners=null,this.selectedOptionClickListener=null,this.selectElement=null,this.customSelectContainer=null,this.selectedOption=null,this.optionsContainer=null,this.selectedInput=null,this.selectedOptions=null,this.data=null}}window.Frontx||document.addEventListener("DOMContentLoaded",(()=>{window.Frontx=new FrontxFramework}));